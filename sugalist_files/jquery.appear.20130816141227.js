(function(t){t.fn.appear=function(e,i){var n=t.extend({data:void 0,one:!0,offset:null},i);return this.each(function(){var i=t(this);if(i.appeared=!1,!e)return i.trigger("appear",n.data),void 0;var s=t(window),r=function(){if(!i.is(":visible"))return i.appeared=!1,void 0;var t=s.scrollLeft(),e=s.scrollTop(),r=i.offset(),a=r.left,o=r.top,l=i.width(),u=i.height();n.offset&&(a+=l*n.offset,o+=u*n.offset),o+u>=e&&e+s.height()>=o&&a+l>=t&&t+s.width()>=a?i.appeared||i.trigger("appear",n.data):i.appeared=!1},a=function(){if(i.appeared=!0,n.one){s.unbind("scroll",r);var a=t.inArray(r,t.fn.appear.checks);a>=0&&t.fn.appear.checks.splice(a,1)}e.apply(this,arguments)};n.one?i.one("appear",n.data,a):i.bind("appear",n.data,a),s.scroll(r),t.fn.appear.checks.push(r),r()})},t.extend(t.fn.appear,{checks:[],timeout:null,checkAll:function(){var e=t.fn.appear.checks.length;if(e>0)for(;e--;)t.fn.appear.checks[e]()},run:function(){t.fn.appear.timeout&&clearTimeout(t.fn.appear.timeout),t.fn.appear.timeout=setTimeout(t.fn.appear.checkAll,20)}}),t.each(["append","prepend","after","before","attr","removeAttr","addClass","removeClass","toggleClass","remove","css","show","hide"],function(e,i){var n=t.fn[i];n&&(t.fn[i]=function(){var e=n.apply(this,arguments);return t.fn.appear.run(),e})})})(jQuery);